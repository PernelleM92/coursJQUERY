<!doctype html>
<html lang="fr">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

    <title>Cours jQuery - Selecteurs</title>
  </head>
  <body class="bg-secondary">
      <!-- Ici voir nav bar -->
      <main class="container">

      <header class="jumbotron">
          <h1 class="display-4">Cours jQuery - Sélecteurs</h1>
          <p class="lead">write less, do more</p>

      </header>
      <div class="row">
          <div class="col-md-6">
              <h2>jQuery est une API</h2>
              <p class="lead">JQuery est ce qu'on appelle une bibliothèque ou une API (application programming interface) Javascript, c'est à dire un ensemble de fonctions qui permettent d'écrire de manière condensée, les lignes de codes les plus utilisées en Javascript.</p>
              <p><a href="https://jquery.com/">Le site de jQuery</a></p>
              <p>Quel est l'avenir de jQuery ? <a href="https://hub.packtpub.com/bootstrap-5-to-replace-jquery-with-vanilla-javascript/#:~:text=The%20upcoming%20major%20version%20of,be%20replaced%20with%20vanilla%20JavaScript.&text=For%20example%2C%20last%20year%2C%20GitHub,losing%20its%20relevancy%20over%20time">lire un peu plus</a></p>
          </div> <!-- fin de col -->

          <div class="col-md-6">
                <h3>JQuery écrit d'une manière plus condensée</h3>
                <p>Nous allons souvent utiliser les fonctions Javascript qui permettent d'attraper les balises HTML et les animer, ainsi en Javascript nous allons écrire d'une certaine manière et en JQuery d'une manière plus condensée.</p>
                <p class="bg-light p-2"> Une vingtaine de lignes de code en JavaScript correspond à quelques lignes seulement en jQuery. D'où le slogan : "Write less… Do more".</p>

          </div><!--  fin de col -->

          <div class="col-md-12 border border warning p-1">
              <h3>Exemple</h3>
              <ul>
                  <li>JavaScript : <code>document.getElementsByTagName('p')[0].innerHTML = 'Je change le texte de ce p avec JS.'; </code></li>
                  <li>jQuery : <code>$('p:first').text('Je change le texte du premier p de la page avec jQuery');</code></li>
              </ul>

          </div> <!-- fin de col -->


      </div> <!-- fin de row -->

      <div class="row justify-content-center">
          <div class="col-md-6">
              <figure>
                  <img src="img/chat.jpg" alt="Un petit chaton blanc tout doux" class="img-fluid p-2 border border-solid">
                  <figcaption>...</figcaption>
              </figure>

          </div>

      </div>

    <div class="col-md-12">
        <h3>Il existe trois manières, de plus en plus simples, d'appeler JQuery</h3>
    </div><!-- fin col -->
    <div class="col-md-4"><code>
        &lt;script><br>
        jQuery(document).ready(function(){<br>
        // code <br>
        });
        &lt;/script></code>
    </div><!-- fin col -->
    <div class="col-md-4"><code>&lt;script><br>
        jQuery(function(){<br>
        // code<br>
        });
        &lt;/script></code>
    </div><!-- fin col -->
    <div class="col-md-4"><code>&lt;script><br>
        $(function(){<br>
        //ici j'intègrerai du code jQuery<br>
        });
        &lt;/script></code>
    </div><!-- fin col -->


    <h2>Comment sélectionner des éléments</h2>
    <ul>
        <li><code>$('p');</code> // Je sélectionne tous les paragraphes</li>
        <li><code>$('p:first');</code>// Je sélectionne le 1er p trouvé</li>
        <li><code>$('p:last');</code>// Je sélectionne le dernier p trouvé</li>
        <li><code>$('p[unP]');</code>// Je sélectionne un p avec l'identifiant #unP</li>
        <li><code>$('p:eq(1)');</code>// Je sélectionne le deuxième paragraphe trouvé</li>
        <li><code>$('p:not(.rouge)');</code>// Je sélectionne tous les sauf ceux qui ont la classe .rouge</li>
        <li><code>$('.une-rouge');</code>// Je sélectionne tous les paragraphes ayant la classe .une-classe</li>
        <li><code>$('#monId');</code>// Je sélectionne un p avec l'identifiant #monId pour id</li>
        <li><code>$('p .unLine');</code>// Je sélectionne tous les éléments ayant la classe .unLine et descendant directement du p</li>
        <li><code>$('p > .unLien');</code>// Je sélectionne seulement les éléments ayant la classe .unLien et descendants directement du p</li>
        <li><code>$('.unLien + .visite');</code>// Je sélectionne les éléments ayant pour classe .visite précédés immédiatement d'un élément ayant pour classe .unLien</li>
        <li><code>$('.unLien ~ .visite');</code>// Je sélectionne les éléments ayant pour classe .visite et précédés ou pas d'un élément ayant pour classe .unLien</li>
        <li>etc.</li>
        <li><a href="http://creersonsiteweb.net/page-jquery-selecteurs">Voir la liste complète </a> </li>
    </ul>

    <h2>Autre exemple</h2>
    <div class="col-md-5" class="bg-primary p-2">
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Magnam esse quisquam, autem eligendi, eos libero aliquid natus excepturi, quaerat molestias quasi adipisci. <span class="unLien">Aperiam quia asperiores ex amet aliquid soluta debitis.</span> Lorem ipsum dolor sit amet consectetur adipisicing elit. Eum aliquam libero <strong class="unLien">velit quisquam nam <span class="unLien">recusandae nesciunt</span> debitis nisi delectus</strong> repellendus quos numquam rem eveniet a pariatur, esse facilis vitae vel.</p>
    </div><!-- fin col -->

    <div class="border border-warning p-2">
        <ul>
            <li>sa balise : $("h4")  </li>
            <li>son #id : $("#mon_id") </li>
            <li> sa .class : $(".ma_class")</li>
            <li>par lui-même : $(this)  </li>
            <li>par le type : $("input:text")</li>
            <li>tous les types : $(":radio")</li>
            <li>par l'attribut : $("img[alt]")</li>
            <li>tous les attributs : $("[alt]")</li>
            <li>par le nom de l'attribut ET sa valeur : $("img[title="un chaton"]</li>
            <li>sélectionner plusieurs sélecteurs en même temps : $("h1, p, #monID"</li>
        </ul>
    </div>
      </main>

    
    

    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: jQuery and Bootstrap Bundle (includes Popper) -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>

    <!-- Option 2: jQuery, Popper.js, and Bootstrap JS
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s" crossorigin="anonymous"></script>
    -->

    <script src="../jquery/jquery-3.5.1.js"></script>

    <script>
        // let lesP = document.getElementsByTagName('p');
        // console.log(lesP);

        // let enJS = document.getElementsByTagName('p')[0].innerHTML = "Write less... do More écrit en JS";

        $('p:first').text('Write less... do more ; le slogan de jQuery en jQuery');

        //2 Selections avec JS avec JQuery
        console.log(document.getElementsByTagName('h1'));
        console.log(document.querySelector('h1'));
        console.log('...');
        // La même chose en jQuery
        console.log($('h1')[0].innerHTML);

        //3- fonction $() et méthodes eq(), html()
        //A - La fonction query$() est l'équivalent d'un document.querySelectorAll()
        //B - La méthode eq() permet de sélectionner en jQuery un indice ou une collection d'objets
        //C - La méthode html() remplace innerHTML pour récupérer ou redéfinir un contenu de balise
        //D - La méthode.text()permet de remplacer le texte

        console.log($('h1').eq(0).html);

        
        //mini exo changer le contenu du h1 et faire un lien vers le site jQuery sur le slogan

        //Cours jQuery - Sélecteurs (titre fait en jQuery)
        $('h1').eq(0).text('Cours jQuery - Sélecteurs (titre fait en jQuery')

        $('p').eq(0).html('<a href="https://jquery.com/">Write less... do more </a>')
        console.log('3-------');


        //E - On peut aussi tout changer !!
        //$('p').html('Paragraphe');

        //F - On peut bien-sûr passer tout cela dans des variables
        let unP = $('p').eq(4).html();
        console.log(unP);

        //4 - La méthode css()
        //La méthode css() applique des changements css en remplacement de .style
        console.log('4-------');
        $('p').eq(2).css("color","red");

        // On va plutôt écrire cela ainsi
        $('p').eq(2).css({
            'color':'purple',
            'font-weight':'bold',
            'padding':'5px',
            'border': '5px blue solid'
        });

        console.log('4------------');
        
        // sélectionner toutes les div et leur donner 

        console.log($('.lead'));
        $('.lead').css({
            'background-color':'lightblue',
            'color' : 'white',
            'margin-right' : '10px',
            'margin-left' : '10px',
        })

        console.log('5-------');

        // 5 - append() et prepend()
        //
        //ajouter avant le contenu avec prepend
        $('p').eq(2).prepend('<span class="bg-info">Coucou!! </span>')

        //ajouter après le contenu avec append()
        $('p').eq(2).append('<span class="bg-warning">Coucou encore!!! </span>')

        //sélectionner plusieurs éléments
        console.log($('h1,h2,p'));
        $('h1, h2, p').prepend('- ');

        
        //6 - Manioulation de classes avec addClass(), removeClass(), toggleClass(), hasClass()

        // addClass()
        console.log($('span'));
        $('span').eq(0).addClass('bg-dark');

        //removeClass()
        console.log($('.lead'));
        $('.lead').eq(1).removeClass('lead');

        //hasClass()
        //toggleClass()

        //7 - Manipulation d'attributs attr(), et removeAttr()
        //attr() ajout d'un attribut

        $('h1').eq(0).attr('title','Le jQuery est plus simpli');

        console.log('6------');
        //removeAttr()
        console.log($('strong'));

        $('strong:eq(0), strong:eq(1)').removeAttr('class');

        //8 - Manipulation des parents et des enfants
        $('figure').find('img').attr('title', 'Un petit chat blanc tout doux');

        // mini exo récupérer l'attribut alt de img dans une variable grogneugneu

        //puis voir son type et son contenu dans un console.log
        let pasBeauLeChat = $('figure').find('img').attr('alt');
        //puis voir son type et son contenu dans un console.log
        console.log(typeof pasBeauLeChat, pasBeauLeChat);

        // puis demander a jQuery d'afficher ce contenu (Le contenu de la variable) dans figcaption

        $('figure').find('figcaption').text(leAlt).css({
            'color':'white',
            'background':'pink',
            'text-align':'center'
        });

        let lesmecsontlesbrascroises = $('p .unLien');
        console.log('*******' + lesmecsontlesbrascroises);

        

        

        

    </script>
  </body>
</html>